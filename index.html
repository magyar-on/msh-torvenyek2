<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gyakorold a m√°ssalhangz√≥t√∂rv√©nyeket!</title>
  <style>
    :root {
      --dark-blue: #003366;
      --card-bg: #e8f3ff;
      --card-border: #2a6fb3;
      --option-bg: #cfe6ff;
      --option-bg-hover: #b7d8ff;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background-color: #f5faff;
      color: var(--dark-blue);
    }
    header {
      background-color: var(--dark-blue);
      color: #fff;
      text-align: center;
      padding: 1rem;
      font-size: 1.4rem;
      font-weight: 700;
    }
    .container {
      max-width: 720px;
      margin: 0 auto;
      padding: 1rem;
    }
    .card {
      background-color: var(--card-bg);
      border: 2px solid var(--card-border);
      border-radius: 12px;
      padding: 1rem;
      color: var(--card-border);
      min-height: 180px;
    }
    .word {
      font-size: 1.4rem;
      font-weight: 700;
      margin: 0 0 0.75rem 0;
    }
    .options {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.6rem;
    }
    .option-btn {
      width: 100%;
      padding: 0.75rem;
      border-radius: 12px;
      border: none;
      background-color: var(--option-bg);
      color: var(--card-border);
      font-weight: 700;
      cursor: pointer;
      text-align: left;
    }
    .option-btn:hover { background-color: var(--option-bg-hover); }
    .option-btn.selected {
      outline: 3px solid var(--dark-blue);
      background-color: #dbeaff;
    }
    .controls {
      display: flex;
      gap: 0.75rem;
      justify-content: flex-end;
      margin-top: 1rem;
      flex-wrap: wrap;
    }
    .btn {
      background-color: var(--dark-blue);
      color: #fff;
      border: none;
      padding: 0.75rem 1.25rem;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1rem;
    }
    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .progress {
      margin: 0.5rem 0 1rem 0;
      font-weight: 600;
      color: var(--dark-blue);
    }
    .results {
      margin-top: 1.5rem;
    }
    .result-item {
      background-color: var(--card-bg);
      border: 2px solid var(--card-border);
      border-radius: 10px;
      padding: 0.75rem;
      margin-bottom: 0.6rem;
      color: var(--card-border);
    }
    .wrong { color: #c60000; font-weight: 700; }
    .right { color: #006400; font-weight: 700; }
    @media (min-width: 640px) {
      .options { grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 420px) {
      .word { font-size: 1.2rem; }
      .option-btn { font-size: 0.95rem; }
    }
  </style>
</head>
<body>
  <header>Gyakorold a m√°ssalhangz√≥t√∂rv√©nyeket!</header>
  <div class="container">
    <div id="progress" class="progress"></div>
    <div id="quiz" class="card"></div>
    <div class="controls">
      <button id="nextBtn" class="btn" disabled>Tov√°bb</button>
      <button id="submitBtn" class="btn" style="display:none;">Bek√ºld√©s</button>
      <button id="restartBtn" class="btn" style="display:none;">√öjrakezd√©s</button>
    </div>
    <div id="results" class="results"></div>
  </div>
  <script>
    const data = [
      ["cukr√°szda","z√∂ng√©ss√©g szerinti r√©szleges hasonul√°s"],
      ["fi√∫kkal","√≠r√°sban jel√∂lt teljes hasonul√°s"],
      ["erre","√≠r√°sban jel√∂lt teljes hasonul√°s"],
      ["atyjuk","√≠r√°sban jel√∂letlen teljes hasonul√°s"],
      ["repdes","z√∂ng√©ss√©g szerinti r√©szleges hasonul√°s"],
      ["k√ºl√∂nben","k√©pz√©s helye szerinti r√©szleges hasonul√°s"],
      ["bennsz√ºl√∂tt","r√∂vid√ºl√©s"],
      ["hordtuk","kies√©s"],
      ["hallgat","r√∂vid√ºl√©s"],
      ["vit√©zs√©g","√≠r√°sban jel√∂letlen teljes hasonul√°s"],
      ["elkezdtem","kies√©s"],
      ["tanmese","k√©pz√©s helye szerinti r√©szleges hasonul√°s"],
      ["mondja","√∂sszeolvad√°s"],
      ["konty","k√©pz√©s helye szerinti r√©szleges hasonul√°s"],
      ["f≈±zfa","z√∂ng√©ss√©g szerinti r√©szleges hasonul√°s"],
      ["mindnek","kies√©s"],
      ["tolltart√≥","r√∂vid√ºl√©s"],
      ["akkor","√≠r√°sban jel√∂lt teljes hasonul√°s"],
      ["jav√≠tsuk","√∂sszeolvad√°s"],
      ["adsz","√∂sszeolvad√°s"]
    ];
    const categories = [
      "z√∂ng√©ss√©g szerinti r√©szleges hasonul√°s",
      "k√©pz√©s helye szerinti r√©szleges hasonul√°s",
      "√∂sszeolvad√°s",
      "√≠r√°sban jel√∂lt teljes hasonul√°s",
      "√≠r√°sban jel√∂letlen teljes hasonul√°s",
      "r√∂vid√ºl√©s",
      "kies√©s"
    ];

    let quizData = [];
    let current = 0;
    let selectedOption = null;
    const answers = [];

    function shuffle(array){
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function makeOptions(correct){
      const opts = new Set([correct]);
      while (opts.size < 4) {
        const candidate = categories[Math.floor(Math.random() * categories.length)];
        opts.add(candidate);
      }
      return shuffle(Array.from(opts));
    }

    function renderQuestion(){
      selectedOption = null;
      const nextBtn = document.getElementById('nextBtn');
      nextBtn.disabled = true;

      const [word, correct] = quizData[current];
      const options = makeOptions(correct);

      const quizEl = document.getElementById('quiz');
      quizEl.innerHTML = `
        <div class="word">${word}</div>
        <div class="options">
          ${options.map(opt => `
            <button class="option-btn" data-val="${opt}">${opt}</button>
          `).join('')}
        </div>
      `;

      document.getElementById('progress').textContent =
        \`K√©rd√©s \${current + 1} / \${quizData.length}\`;

      quizEl.querySelectorAll('.option-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          quizEl.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
          btn.classList.add('selected');
          selectedOption = btn.getAttribute('data-val');
          nextBtn.disabled = false;
        });
      });
    }

    function nextQuestion(){
      if (!selectedOption) return;
      const [word, correct] = quizData[current];
      answers.push({ word, correct, selected: selectedOption });

      current++;
      if (current < quizData.length) {
        renderQuestion();
      } else {
        document.getElementById('nextBtn').style.display = 'none';
        document.getElementById('submitBtn').style.display = 'inline-block';
        document.getElementById('quiz').innerHTML = `
          <div class="word">V√©ge a k√©rd√©seknek.</div>
          <p>Nyomd meg a Bek√ºld√©s gombot az eredm√©nyekhez.</p>
        `;
        document.getElementById('progress').textContent = \`K√©sz üéâ\`;
      }
    }
    function showResults(){
      let correctCount = 0;
      const listHtml = answers.map(a => {
        const isRight = a.selected === a.correct;
        if (isRight) correctCount++;
        return `
          <div class="result-item">
            <div><strong>Sz√≥:</strong> ${a.word}</div>
            <div><strong>V√°laszod:</strong> ${isRight
              ? `<span class="right">${a.selected}</span>`
              : `<span class="wrong">${a.selected}</span>`}</div>
            ${!isRight ? `<div><strong>Megold√°s:</strong> ${a.correct}</div>` : ``}
          </div>
        `;
      }).join('');

      document.getElementById('results').innerHTML = `
        <h3>Eredm√©nyek</h3>
        <p><strong>√ñsszes j√≥ v√°lasz:</strong> ${correctCount} / ${answers.length}</p>
        ${listHtml}
      `;

      document.getElementById('restartBtn').style.display = 'inline-block';
      document.getElementById('submitBtn').disabled = true;
    }

    function restart(){
      quizData = shuffle([...data]).filter(item => Array.isArray(item) && item.length === 2);
      current = 0;
      selectedOption = null;
      answers.length = 0;

      document.getElementById('results').innerHTML = '';
      document.getElementById('submitBtn').style.display = 'none';
      document.getElementById('submitBtn').disabled = false;
      document.getElementById('nextBtn').style.display = 'inline-block';
      document.getElementById('restartBtn').style.display = 'none';

      renderQuestion();
    }

    document.getElementById('nextBtn').addEventListener('click', nextQuestion);
    document.getElementById('submitBtn').addEventListener('click', showResults);
    document.getElementById('restartBtn').addEventListener('click', restart);

    function init(){
      quizData = shuffle([...data]).filter(item => Array.isArray(item) && item.length === 2);
      current = 0;
      answers.length = 0;
      document.getElementById('results').innerHTML = '';
      document.getElementById('submitBtn').style.display = 'none';
      document.getElementById('restartBtn').style.display = 'none';
      document.getElementById('nextBtn').style.display = 'inline-block';
      renderQuestion();
    }

    window.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
